<!-- 有問題 -->


<script>

    let bike = {
        a: 11,
        b: 22,
        m1: function () {
            document.write("bike:m1(): " + this.a + "<br>");
        }
    }



    let person = {
        name: "nobody",
        mybike: Object.create(bike),     //創建一台腳踏車


    }

     let b1 = Object.create(bike); //用腳踏車創出一個物件實體
    for (let key in b1) {
        document.write(key + ":" + b1[key] + "<br>");
    }
    document.write("<hr>");


    let b2 = bike.constructor(); // new object
    document.write(typeof b2 + "<br>");
    for (let key in b2) {
        document.write(key + ":" + b2[key] + "<br>");
    }

    document.write("<hr>");
    let b3 = clone(bike);
    for (let key in b3) {
        document.write(key + ":" + b3[key] + "<br>");
    }
    document.write("<hr>");
    let p1 = Object.create(person);
    p1.name = "ruby";
    p1.mybike.a = 33;   //這個人裡面的腳踏車的a  給他一個新值
    document.write(p1.name + ":" + p1.mybike.a + "<br>")

    document.write("<hr>");
    let p2 = clone(person);
    p2.name = "peach";
    p2.mybike.a = 56;
    document.write(p2.name + ":" + p2.mybike.a + "<br>")


    document.write("<hr>");
    p1.mybike.m1();  //呼叫腳踏車的m1方法
    p2.mybike.m1();  //呼叫腳踏車的m1方法

    // 創建  定義  產生物件實體











    // ----------------------------------------------------------------------
    //實現物件複製的function,js原生沒有clone test44.html

    function clone(source) {
        if (source == null || typeof (source) != "object") return null;
        let target = new Object();
        for (let attr in source) {
            if (typeof (source[attr]) != "object") {
                target[attr] = source[attr];
            } else {
                target[attr] = clone(source[attr]);
            }

        }
        return target;
    }




</script>